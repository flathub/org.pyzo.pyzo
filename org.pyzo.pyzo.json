{
  "app-id" : "org.pyzo.pyzo",
  "runtime" : "org.kde.Platform",
  "runtime-version": "6.10",
  "sdk" : "org.kde.Sdk",
  "base": "com.riverbankcomputing.PyQt.BaseApp",
  "base-version": "6.10",
  "command" : "pyzo",
  "finish-args" : [
    "--share=ipc",
    "--socket=fallback-x11",
    "--share=network",
    "--device=dri",
    "--socket=wayland",
    "--filesystem=host",
    "--talk-name=com.canonical.AppMenu.Registrar"
  ],
  "build-options": {
    "env": {
      "BASEAPP_REMOVE_WEBENGINE": "1"
    }
  },
  "cleanup-commands": [
    "/app/cleanup-BaseApp.sh"
  ],
  "modules" : [
    {
      "name" : "python3-pyzo",
      "buildsystem" : "simple",
      "build-commands" : [
        "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} --no-build-isolation pyzo",
        "install -Dm644 org.pyzo.pyzo128x128.png /app/share/icons/hicolor/128x128/apps/org.pyzo.pyzo.png",
        "install -Dm644 org.pyzo.pyzo64x64.png /app/share/icons/hicolor/64x64/apps/org.pyzo.pyzo.png",
        "install -Dm644 org.pyzo.pyzo.desktop /app/share/applications/org.pyzo.pyzo.desktop",
        "install -Dm644 org.pyzo.pyzo.appdata.xml /app/share/appdata/org.pyzo.pyzo.appdata.xml"
      ],
      "sources" : [
        {
          "type" : "file",
          "path" : "org.pyzo.pyzo.desktop"
        },
        {
          "type" : "file",
          "path" : "org.pyzo.pyzo.appdata.xml"
        },
        {
          "type" : "file",
          "path" : "org.pyzo.pyzo64x64.png"
        },
        {
          "type" : "file",
          "path" : "org.pyzo.pyzo128x128.png"
        },
        {
          "type" : "file",
          "url": "https://files.pythonhosted.org/packages/ec/22/2391d5b00a3e2e99011aa4c15089cfb1d71ca1274051560fca840e7ec73f/pyzo-4.20.0.tar.gz",
          "sha256": "c1e0b1b18b01f03420f2eddac425aadb92001f425c604b5c464678c17da9636f"
        }
      ]
    }
  ]
}
